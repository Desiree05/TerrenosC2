<body>

<div class="w3-container w3-green " xmlns="http://www.w3.org/1999/html">
  <a href="#"><i class="w3-xxxlarge w3-right fa fa-home"></i></a>
  <h2>Crear Arrendatario</h2>
</div>



<form class="w3-container w3-margin" [formGroup]="formulario" (ngSubmit)="submitForm()">

  <label class="w3-text-black"><b>DNI</b></label>

  <span *ngIf="
          (formulario.get('DNI')?.hasError('required') || formulario.get('DNI')?.hasError('pattern')) &&
          (formulario.get('DNI')?.dirty ||
          formulario.get('DNI')?.touched ||
          isSubmitted)"
        class="error"
  > Necesitas poner un DNI con letra
      </span>

  <input id="DNI" formControlName="DNI" class="w3-input" required="required" name="DNI" type="text" [(ngModel)]="DNI"
         [ngClass]="{'invalid-input':formulario.get('DNI')?.invalid && (formulario.get('DNI')?.dirty || formulario.get('DNI')?.touched || isSubmitted)}"
  >

  <div class="w3-row-padding">
    <div class="w3-half">
      <label class="w3-text-black"><b>Nombre</b></label>
      <span *ngIf="
          (formulario.get('nombre')?.hasError('required') || formulario.get('nombre')?.hasError('pattern')) &&
          (formulario.get('nombre')?.dirty ||
          formulario.get('nombre')?.touched ||
          isSubmitted)"
            class="error"
      > Necesitas poner nombres con letras del alfabeto
      </span>
      <input id="nombre" formControlName="nombre" class="w3-input w3-border" required="required" type="text" name="nombre" placeholder="Nombre" [(ngModel)]="nombre"
             [ngClass]="{'invalid-input':formulario.get('nombre')?.invalid && (formulario.get('nombre')?.dirty || formulario.get('nombre')?.touched || isSubmitted)}"
      >
    </div>
    <div class="w3-half">
      <label class="w3-text-black"><b>Apellidos</b></label>
      <span *ngIf="
          (formulario.get('apellido')?.hasError('required') || formulario.get('apellido')?.hasError('pattern')) &&
          (formulario.get('apellido')?.dirty ||
          formulario.get('apellido')?.touched ||
          isSubmitted)"
            class="error"
      > Necesitas poner apellidos con letras del alfabeto
      </span>
      <input id="apellidos" formControlName="apellido" class="w3-input w3-border" required="required" type="text" name="apellidos" placeholder="Apellidos" [(ngModel)]="apellido"
             [ngClass]="{'invalid-input':formulario.get('apellido')?.invalid && (formulario.get('apellido')?.dirty || formulario.get('apellido')?.touched || isSubmitted)}"
      >
    </div>
  </div>

  <label class="w3-text-black"><b>Correo electrónico</b></label>
  <span *ngIf="
          (formulario.get('email')?.hasError('required') || formulario.get('email')?.hasError('email')) &&
          (formulario.get('email')?.dirty ||
          formulario.get('email')?.touched ||
          isSubmitted)"
        class="error"
  > Necesitas poner un email válido (abc@example.com)
      </span>
  <input id="email" formControlName="email" class="w3-input" required="required" name="email" type="email" [(ngModel)]="email"
         [ngClass]="{'invalid-input':formulario.get('email')?.invalid && (formulario.get('email')?.dirty || formulario.get('email')?.touched || isSubmitted)}"
  >

  <label class="w3-text-black"><b>Edad</b></label>
  <span *ngIf="
          (formulario.get('edad')?.hasError('required') || formulario.get('edad')?.hasError('min')) &&
          (formulario.get('edad')?.dirty ||
          formulario.get('edad')?.touched ||
          isSubmitted)"
        class="error"
  > Necesitas ser mayor de edad (>18)
      </span>
  <input id="edad" formControlName="edad" class="w3-input" required="required" name="edad" type="number" [(ngModel)]="edad"
         [ngClass]="{'invalid-input':formulario.get('edad')?.invalid && (formulario.get('edad')?.dirty || formulario.get('edad')?.touched || isSubmitted)}"
  >


  <br>

  <button id="botonRegistro" class="w3-btn w3-hover-green w3-blue-grey w3-right w3-margin" (click)="registrarArrendatarios()">Registrar Arrendatario</button>
</form>


<div *ngIf="imprimirID == true">
  <p class="w3-left-align w3-margin w3-padding">El arrendatario se ha creado con éxito. Identificador del arrendatario: {{DNI}}</p>
</div>

</body>
